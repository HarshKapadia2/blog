<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Git Objects | Harsh Kapadia's Blog</title><meta name=keywords content="git,internals"><meta name=description content="About the Blob, Commit and Tree Objects that Git uses to efficiently keep a track of different versions of files."><meta name=author content="Harsh Kapadia"><link rel=canonical href=https://blog.harshkapadia.me/2021/git-objects/><link crossorigin=anonymous href=/assets/css/stylesheet.a090830a421002426baafbd314e38f149d77b4c48a12ee9312700d770b27fb26.css integrity="sha256-oJCDCkIQAkJrqvvTFOOPFJ13tMSKEu6TEnANdwsn+yY=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.harshkapadia.me/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.harshkapadia.me/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.harshkapadia.me/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.harshkapadia.me/apple-touch-icon.png><link rel=mask-icon href=https://blog.harshkapadia.me/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.harshkapadia.me/2021/git-objects/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://blog.harshkapadia.me/2021/git-objects/"><meta property="og:site_name" content="Harsh Kapadia's Blog"><meta property="og:title" content="Git Objects"><meta property="og:description" content="About the Blob, Commit and Tree Objects that Git uses to efficiently keep a track of different versions of files."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-10-11T22:09:11+05:30"><meta property="article:modified_time" content="2021-10-11T22:09:11+05:30"><meta property="article:tag" content="Git"><meta property="article:tag" content="Internals"><meta property="og:image" content="https://blog.harshkapadia.me/2021/git-objects/connection-graph-4.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.harshkapadia.me/2021/git-objects/connection-graph-4.png"><meta name=twitter:title content="Git Objects"><meta name=twitter:description content="About the Blob, Commit and Tree Objects that Git uses to efficiently keep a track of different versions of files."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.harshkapadia.me/posts/"},{"@type":"ListItem","position":2,"name":"Git Objects","item":"https://blog.harshkapadia.me/2021/git-objects/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Git Objects","name":"Git Objects","description":"About the Blob, Commit and Tree Objects that Git uses to efficiently keep a track of different versions of files.","keywords":["git","internals"],"articleBody":"Git Internals This post is the second part of a series on the internal working of Git.\nThe Git Internals series\nThe .git Directory Git Objects (This post) The entire Git Internals series is available as a talk as well. Feel free to watch the talk instead. ðŸ‘‡\nGit Objects Git has two data structures, a mutable index that caches information about the working directory and the next revision to be committed, and an immutable, append-only object database (repository) containing four types of objects\nBlob Object Commit Object Tree Object Tag Object Git carries out its version control using these objects to store data and the internal working of Git can be understood by understanding these objects.\nSome part of the internal working of Git will be explored through an example in this section.\nRun git init to initialize an empty repository in the inside_git directory (root directory). A hidden directory .git is created in this root folder.\nThe command du -c is used to list the sub-directories of inside_git and their sizes on disk (in kbs).\nThe blob Object NOTE: A Blob Object stores the contents of a file.\nCreate a new file in the root folder.\nNow the working tree (root directory) contains the .git directory and the new file master_file_1.txt.\nAdd the file to the staging area using git add . and run du -c once again.\nNote that a new directory e6 has been added to .git/objects.\nUse the dir (or ls) command to find out which file is present in the directory .git/objects/e6.\nThe file name 9de29bb2d1d6434b8b29ae775ad8c2e48c5391 is 38 characters long. On appending it to the folder name (e6), it becomes a 40 character string e69de29bb2d1d6434b8b29ae775ad8c2e48c5391. This is a SHA-1 hash. Git hashes the content of the file (and some more data) using the SHA-1 algorithm to produce a 40 character hexadecimal string. Every stage, [commit] and [tag] produces its own unique SHA-1 hash(es). (Being a 40 character string, hash collisions are VERY rare.) The first two characters of the hash are used for bucketing the hashes into folders, to decrease access time. To make things easy, Git sometimes uses just 4 to 8 characters of an objectâ€™s hash to refer to it.\nAs mentioned in the previous paragraph, Git hashes the contents of the file and other details to create a 40 character SHA-1 hash. To verify that, some content needs to be added to the file. The file will then have to be added again. (This will produce another hash.)\nFrom the last command in the image above, it can be inferred that a new hash 1a3851c172420a2198cf8ca6f2b776589d955cc5 was generated. Check its contents using the cat command.\nThe output is gibberish because Git compresses file contents (and some additional data) with the Zlib library and then stores it in the file. So to make sense of the gibberish, the content of the file needs to be de-compressed.\nblob 16\\0Git is amazing!\\n is the content of the hashed file. (\\0 and \\n are not seen. Explained in the points below.)\nBreaking it down\nblob is the object type of the file. It is an abbreviation for â€˜Binary Large OBjectâ€™. These objects (files) store the content of the files. 16 is the file size (length). Git is amazing! consists of 15 characters, but the echo command adds a new line (line feed) character (\\n) at the end of the text, making the length 16. Just like the \\n character which cannot be seen in the output, there is a NULL character (\\0) between the length and file content. Git is amazing!\\n is the file content. (The \\n is not visible.) NOTE: If blob 16\\0Git is amazing!\\n is hashed using SHA-1, the same hash (1a3851c172420a2198cf8ca6f2b776589d955cc5) will be generated!\nSo, Git generates the hash of the file using the string \\0 and stores that string in the file after compressing it. (The name of the file is the last 38 characters of the 40 character hash that was generated. The first two characters are used for bucketing.)\nTIP: The process of finding the contents of the file using cat is pretty cumbersome. It is a better idea to use the git cat-file [plumbing command] provided by Git.\nVariations of the git cat-file command that will be used\ngit cat-file -p (-p = pretty print) to display file data. git cat-file -t (-t = type) to display file type (blob, commit, tree or tag). git cat-file -s (-s = size) to display the file size (length). The commit Object NOTE: A Commit Object links Tree Objects together into a history. It contains the name of a Tree Object (of the top-level source directory), a timestamp, a log message, and the names of zero or more parent Commit Objects.\nCommit master_file_1.txt and then run du -c again.\nFrom the above image it can be noticed that two new directories .git/objects/1b and .git/objects/d5 were created. Also, after committing the file, Git printed the first seven characters of the SHA-1 hash for that commit in the output.\nUsing the seven characters of the commit hash in the output, check the file type using the git cat-file -t command.\nSo the file type is commit, inferring that it is a file generated through a commit.\nPrint the contents of the Commit Object (file) using the git cat-file -p command.\nCommit Object content\ntree 1b2190cdc2801ec3df6505dc351dee878ac7f2fc is the other SHA-1 hash that was generated (remember that two directories were generated in .git/objects on committing the file), of the type tree. The tree is the [snapshot] of the current state of the repository. Parent commitâ€™s SHA-1 hash (Not present here. Explained below.) The next line has the details of the author (the one who wrote the code): Name e-mail ID Timestamp The next line has the details of the committer (the one who committed the code): Name e-mail ID Timestamp Commit message Commit description (If provided. Not present here.) The tree Object NOTE: A Tree Object is the equivalent of a (sub)directory: it contains a list of filenames, each with some type bits and the name of a blob or Tree Object that is that file, symbolic link, or directoryâ€™s contents. This object describes a snapshot of the source tree.\nCheck the contents of the tree file listed in the Commit Object (file).\nThe tree file has entries of the files \u0026 directories in the snapshot (current state) of the local repository. The format of each line is the same.\nTree Object content format\n100644 is the mode of the file. It is an octal number.\nOctal: 10 0 644 Binary: 001000 000 110100100 The first six binary bits indicate the object type. 001000 indicates a regular file. (As seen in this case.) 001010 indicates a symlink (symbolic link). 001110 indicates a gitlink. The next three binary bits (000) are unused. The last nine binary bits (110100100) indicate Unix file permissions. 644 and 755 are valid for regular files. Symlinks and gitlinks have the value 0 in this field. blob is the object type. (It can be a tree object as well. Explained below.)\n1a3851c172420a2198cf8ca6f2b776589d955cc5 is the SHA-1 hash of the file.\nName of the file.\nSo, each Commit Object points to a Tree Object and each Tree Object points to a set of blobs and/or trees, which correspond respectively to files and subdirectories.\nThe connections between the commit, tree and blob files till now. (HEAD is just a pointer to the latest commit.)\nNOTE: The blob e69de has been modified to blob 1a385 and so is not connected to the tree 1b219. Only the latest blob of every added file is connected to the new Tree Object when a commit is made.\nParent Commits Create another file (master_file_2.txt), add it and commit it.\nCheck the contents of the commit file (using part of the hash 8282663 as seen in the above image).\nA new line parent d5b8f77ce1dc1a37b29885026055c8656c3e0b65 is seen. Remember, this is the hash of the previous commit. Git is thus creating a graph. A Directed Acyclic Graph to be precise. (Check image below.)\nAlso, the HEAD will now automatically point to this (latest - 82826) commit rather than the parent (previous - d5b8f) commit as it was doing before. To verify, check where the HEAD is pointing.\nIt is pointing to the latest commit (82826).\nNow check the contents of the Tree Object of the latest commit.\nFrom the Commit Object, Tree Object and HEAD position, the connection graph looks as follows\nCreating Directories Create a new file (master_dir_1_file_3.txt) inside a directory (dir_1), add it, commit it and look at the contents of the commit file.\nThe commit file has the same format as before.\nCheck the contents of the tree file (with the hash f6a65 as seen in the above image).\nIt is surprising to note that the tree f6a65 points to another tree abecf! The name of the new tree is dir_1.\nCheck the contents of the dir_1 tree.\nSo it points to the file (master_dir_1_file_3.txt) inside the directory dir_1.\nHave a look at how the tree f6a65 connected itself to the tree and blobs.\nThe graph of the repository as it stands now\nRenaming Files Rename master_file_1.txt to the_master_file.txt to see how Git handles it internally.\nWhen the file is committed, Git is smart enough to recognize that a file was renamed and is not a new file, as can be seen in the last line of the above image. It can recognize this because the SHA-1 hash of the file has not changed (as the content of the file has not changed).\nCheck the contents of the commit and tree files.\nFrom the last line, the hash 1a385 is same as the hash of the original file name (master_file_1.txt) and just the name of the file has been changed in the Tree Object instead of creating a new blob file. This is efficient space management by Git!\nThe structure of the repo.\nModifying Large Files Add and commit a image to Git. The size of the image is 1.374 Mb (or 1374 kb), so it is a relatively huge file as compared to the other files (~ 1 kb/file).\nMake a small change to the image file contents and then add and commit it again.\nThe SHA-1 hashes of master_image_1.png in the latest (6d2d2) and previous (27666) tree are different, so Git has created two different blobs (ca893 and 1f7af) for the same file, even when they only have a very small difference.\nRun du -c now.\nFrom the image above, there are two directories (.git/objects/1f and .git/objects/ca) with the same size (1376 kb).\nNOTE: The directory content size (1376 kb) is greater than the image size (1374 kb) as Git adds the file type and size (length) to the blob file and then hashes it.\nSo is Git inefficient at handling huge files? No. The content of the file has changed and this produces a different SHA-1 hash (1f7af) than the original SHA-1 hash (ca893), so Git is not able to handle the change like it did when a file was simply renamed. Having multiple copies of such a huge file is not a problem in the local repository, but it will take up a lot of bandwidth while pushing and pulling from a platform like GitHub. To avoid this, Git uses Delta Compression. It stores the difference (diff) of the older file from the new one and indicates the new one as the parent. This is looked into in the sub-section below.\nThe pack Directory .git â”œâ”€â”€â”€... â””â”€â”€â”€objects â”œâ”€â”€â”€... â””â”€â”€â”€pack â”œâ”€â”€â”€\u003c*.idx\u003e â””â”€â”€â”€\u003c*.pack\u003e Delta compression is carried out when code is pushed/pulled to/from GitHub or when aggressive garbage collection (git gc --aggressive) is carried out.\nDelta compression creates two files in .git/objects/pack\nA pack file (.pack) An index file (.idx) The current state of the repo\nThe size of .git/objects/pack in the above image is 0 kb.\nAggressive garbage collection will be used to carry out Delta Compression and then du -c to view the changes.\nNOTE: The total size of the .git directory went down from 4220kb (seen in the first du -c image in this sub-section) to 2838kb (as seen in the above image). This is a 32.75% reduction in the size of the local repository!\nNotice in the above image that the size of .git/objects/pack is 1380 kb and a lot of the files in .git/objects have disappeared, except for .git/objects/e6.\nThe contents of .git/objects/pack\nAs mentioned above, two files (a pack file .pack and an index file .idx) are created.\nCheck the contents of both the files using the plumbing command git verify-pack -v path/to/pack/file/.pack (-v = verbose). (Works with the .idx file as well.)\nThe pack file is a single file containing the contents of all the objects that were removed from the file system.\nThe size of the newly modified image (hash 1f7af) is very large. The blob of the original image (hash ca893) is very small in size in comparison and it has the hash of the modified image (1f7af) mentioned after it, indicating that its parent is the newly modified file. Thus, Git stored the entire new file and only a diff for the older file with a pointer to the newer file rather than storing the entire file twice, making it space efficient.\nThe pack file has a graph in it, just like the commit, tree and blob files have one.\nNOTE: The .idx (index) file stores the same content as the .pack file and is a file that contains offsets into the pack file so you can quickly seek to a specific object.\nOn running the aggressive garbage collection, Git got rid of all the files in .git/objects that were connected with commits and added them to the pack file.\nThe .git/objects/e6 directory did not get removed as it was not related (connected) to any Tree Object.\nAn example similar to the one discussed in this sub-section.\nMore on Packfiles.\nFinally, take a look at the log of the repository.\n","wordCount":"2335","inLanguage":"en","image":"https://blog.harshkapadia.me/2021/git-objects/connection-graph-4.png","datePublished":"2021-10-11T22:09:11+05:30","dateModified":"2021-10-11T22:09:11+05:30","author":[{"@type":"Person","name":"Harsh Kapadia"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.harshkapadia.me/2021/git-objects/"},"publisher":{"@type":"Organization","name":"Harsh Kapadia's Blog","logo":{"@type":"ImageObject","url":"https://blog.harshkapadia.me/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.harshkapadia.me/ accesskey=h title="Harsh Kapadia's Blog (Alt + H)">Harsh Kapadia's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.harshkapadia.me/tags title=Tags><span>Tags</span></a></li><li><a href=https://harshkapadia.me title=harshkapadia.me><span>harshkapadia.me</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.harshkapadia.me/>Home</a>&nbsp;Â»&nbsp;<a href=https://blog.harshkapadia.me/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Git Objects</h1><div class=post-description>About the Blob, Commit and Tree Objects that Git uses to efficiently keep a track of different versions of files.</div><div class=post-meta><span title='2021-10-11 22:09:11 +0530 +0530'>October 11, 2021</span>&nbsp;Â·&nbsp;<span>11 min</span>&nbsp;Â·&nbsp;<span>Harsh Kapadia</span>&nbsp;|&nbsp;<span>
<a href=https://github.com/HarshKapadia2/blog/tree/main/content/posts/git-objects.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></span></div></header><figure class=entry-cover><img loading=eager src=https://blog.harshkapadia.me/2021/git-objects/connection-graph-4.png alt="Directed Acyclic Graph"><figcaption>The Directed Acyclic Graph that Git creates to manage different versions of files.</figcaption></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#git-internals aria-label="Git Internals">Git Internals</a></li><li><a href=#git-objects aria-label="Git Objects">Git Objects</a></li><li><a href=#the-blob-object aria-label="The blob Object">The blob Object</a></li><li><a href=#the-commit-object aria-label="The commit Object">The commit Object</a></li><li><a href=#the-tree-object aria-label="The tree Object">The tree Object</a></li><li><a href=#parent-commits aria-label="Parent Commits">Parent Commits</a></li><li><a href=#creating-directories aria-label="Creating Directories">Creating Directories</a></li><li><a href=#renaming-files aria-label="Renaming Files">Renaming Files</a></li><li><a href=#modifying-large-files aria-label="Modifying Large Files">Modifying Large Files</a></li><li><a href=#the-pack-directory aria-label="The pack Directory">The pack Directory</a></li></ul></div></details></div><div class=post-content><h2 id=git-internals>Git Internals<a hidden class=anchor aria-hidden=true href=#git-internals>#</a></h2><p>This post is the second part of a series on the internal working of Git.</p><p>The Git Internals series</p><ul><li><a href=https://blog.harshkapadia.me/2021/the-git-directory>The <code>.git</code> Directory</a></li><li>Git Objects (This post)</li></ul><p>The entire Git Internals series is available as a talk as well. Feel free to watch the talk instead. &#x1f447;</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen" loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube.com/embed/TZRS9llBBYU?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div><h2 id=git-objects>Git Objects<a hidden class=anchor aria-hidden=true href=#git-objects>#</a></h2><p>Git has two data structures, a mutable <a href=https://blog.harshkapadia.me/2021/the-git-directory/#the-index-file>index</a> that caches information about the working directory and the next revision to be committed, and an immutable, append-only object database (<a href=https://harshkapadia2.github.io/git_basics/#_repository>repository</a>) containing four types of objects</p><ul><li>Blob Object</li><li>Commit Object</li><li>Tree Object</li><li>Tag Object</li></ul><p>Git carries out its version control using these objects to store data and the internal working of Git can be understood by understanding these objects.</p><p>Some part of the internal working of Git will be explored through an example in this section.</p><p>Run <code>git init</code> to initialize an empty repository in the <code>inside_git</code> directory (root directory). A hidden directory <code>.git</code> is created in this root folder.</p><p><img alt="git init" loading=lazy src=git-init.jpg#center></p><p>The command <code>du -c</code> is used to list the sub-directories of <code>inside_git</code> and their sizes on disk (in kbs).</p><p><img alt="du -c" loading=lazy src=du-c-1.jpg#center></p><h2 id=the-blob-object>The <code>blob</code> Object<a hidden class=anchor aria-hidden=true href=#the-blob-object>#</a></h2><p>NOTE: A Blob Object stores the contents of a file.</p><p>Create a new file in the root folder.</p><p><img alt="Create new file" loading=lazy src=touch-master_file_1.jpg#center></p><p>Now the working tree (root directory) contains the <code>.git</code> directory and the new file <code>master_file_1.txt</code>.</p><p><img alt="Master File" loading=lazy src=ls-a-1.jpg#center></p><p>Add the file to the <a href=https://harshkapadia2.github.io/git_basics/#_staging_staging_areaindex>staging area</a> using <a href=https://harshkapadia2.github.io/git_basics/#_repository><code>git add .</code></a> and run <code>du -c</code> once again.</p><p><img alt="Stage file" loading=lazy src=du-c-2.jpg#center></p><p>Note that a new directory <code>e6</code> has been added to <code>.git/objects</code>.</p><p>Use the <code>dir</code> (or <code>ls</code>) command to find out which file is present in the directory <code>.git/objects/e6</code>.</p><p><img alt="Create new directory" loading=lazy src=dir-1.jpg#center></p><p>The file name <code>9de29bb2d1d6434b8b29ae775ad8c2e48c5391</code> is 38 characters long. On appending it to the folder name (<code>e6</code>), it becomes a 40 character string <code>e69de29bb2d1d6434b8b29ae775ad8c2e48c5391</code>. This is a <a href=https://harshkapadia2.github.io/git_basics/#_sha1>SHA-1 hash</a>. Git hashes the content of the file (and some more data) using the SHA-1 algorithm to produce a 40 character hexadecimal string. Every <a href=https://harshkapadia2.github.io/git_basics/#_git_add>stage</a>, [commit] and [tag] produces its own unique SHA-1 hash(es). (Being a 40 character string, hash collisions are VERY rare.) The first two characters of the hash are used for bucketing the hashes into folders, to decrease access time. To make things easy, <strong>Git sometimes uses just 4 to 8 characters of an object&rsquo;s hash to refer to it.</strong></p><p>As mentioned in the previous paragraph, Git hashes the contents of the file and other details to create a 40 character SHA-1 hash. To verify that, some content needs to be added to the file. The file will then have to be added again. (This will produce another hash.)</p><p><img alt="Add to Master file" loading=lazy src=add-to-master_file_1-1.jpg#center>
<img alt="Edit Master file" loading=lazy src=edit-master_file_1-1.jpg#center></p><p>From the last command in the image above, it can be inferred that a new hash <code>1a3851c172420a2198cf8ca6f2b776589d955cc5</code> was generated. Check its contents using the <code>cat</code> command.</p><p><img alt="Check contents" loading=lazy src=cat-1.jpg#center></p><p>The output is gibberish because Git compresses file contents (and some additional data) with the <a href=https://www.zlib.net>Zlib</a> library and then stores it in the file. So to make sense of the gibberish, the content of the file needs to be de-compressed.</p><p><img alt=Decompress loading=lazy src=decompress-file.png#center></p><p><code>blob 16\0Git is amazing!\n</code> is the content of the hashed file. (<code>\0</code> and <code>\n</code> are not seen. Explained in the points below.)</p><p>Breaking it down</p><ul><li><code>blob</code> is the object type of the file. It is an abbreviation for &lsquo;Binary Large OBject&rsquo;. These objects (files) store the content of the files.</li><li><code>16</code> is the file size (length). <code>Git is amazing!</code> consists of 15 characters, but the <a href="https://harshkapadia2.github.io/cli/terminal.html#:~:text=It%20can%20be%20used%20to%20add%20text%20to%20a%20file%20using%20the%20output%20redirection%20operator"><code>echo</code> command</a> adds a new line (line feed) character (<code>\n</code>) at the end of the text, making the length 16.</li><li>Just like the <code>\n</code> character which cannot be seen in the output, there is a NULL character (<code>\0</code>) between the length and file content.</li><li><code>Git is amazing!\n</code> is the file content. (The <code>\n</code> is not visible.)</li></ul><p>NOTE: If <code>blob 16\0Git is amazing!\n</code> is hashed using SHA-1, the same hash (<code>1a3851c172420a2198cf8ca6f2b776589d955cc5</code>) will be generated!</p><p><img alt="Generating hash for the string" loading=lazy src=sha1sum.png#center></p><p><strong>So, Git generates the hash of the file using the string <code>&lt;object_type> &lt;content_length>\0&lt;file_content></code> and stores that string in the file after compressing it.</strong> (The name of the file is the last 38 characters of the 40 character hash that was generated. The first two characters are used for bucketing.)</p><p>TIP: The process of finding the contents of the file using <code>cat</code> is pretty cumbersome. It is a better idea to use the <code>git cat-file</code> [plumbing command] provided by Git.</p><p>Variations of the <code>git cat-file</code> command that will be used</p><ul><li><code>git cat-file -p &lt;hash></code> (-p = pretty print) to display file data.</li><li><code>git cat-file -t &lt;hash></code> (-t = type) to display file type (blob, commit, tree or tag).</li><li><code>git cat-file -s &lt;hash></code> (-s = size) to display the file size (length).</li></ul><h2 id=the-commit-object>The <code>commit</code> Object<a hidden class=anchor aria-hidden=true href=#the-commit-object>#</a></h2><p>NOTE: A Commit Object links Tree Objects together into a history. It contains the name of a Tree Object (of the top-level source directory), a timestamp, a log message, and the names of zero or more parent Commit Objects.</p><p>Commit <code>master_file_1.txt</code> and then run <code>du -c</code> again.</p><p><img alt="Commit master file" loading=lazy src=commit-master_file_1-1.jpg#center></p><p>From the above image it can be noticed that two new directories <code>.git/objects/1b</code> and <code>.git/objects/d5</code> were created. Also, after committing the file, Git printed the first seven characters of the SHA-1 hash for that commit in the output.</p><p>Using the seven characters of the commit hash in the output, check the file type using the <code>git cat-file -t</code> command.</p><p><img alt="Plumbing commands" loading=lazy src=cat-file-t-1.jpg#center></p><p>So the file type is <code>commit</code>, inferring that it is a file generated through a commit.</p><p>Print the contents of the Commit Object (file) using the <code>git cat-file -p</code> command.</p><p><img alt=Commit loading=lazy src=cat-file-p-1.jpg#center></p><p>Commit Object content</p><ul><li><code>tree 1b2190cdc2801ec3df6505dc351dee878ac7f2fc</code> is the other SHA-1 hash that was generated (remember that two directories were generated in <code>.git/objects</code> on committing the file), of the type <code>tree</code>. The tree is the [snapshot] of the current state of the repository.</li><li><a href=#parent-commits>Parent commit&rsquo;s SHA-1 hash</a> (Not present here. Explained below.)</li><li>The next line has the details of the author (the one who wrote the code):<ul><li>Name</li><li>e-mail ID</li><li>Timestamp</li></ul></li><li>The next line has the details of the committer (the one who committed the code):<ul><li>Name</li><li>e-mail ID</li><li>Timestamp</li></ul></li><li>Commit message</li><li>Commit description (If provided. Not present here.)</li></ul><h2 id=the-tree-object>The <code>tree</code> Object<a hidden class=anchor aria-hidden=true href=#the-tree-object>#</a></h2><p>NOTE: A Tree Object is the equivalent of a (sub)directory: it contains a list of filenames, each with some type bits and the name of a blob or Tree Object that is that file, symbolic link, or directory&rsquo;s contents. This object describes a snapshot of the source tree.</p><p>Check the contents of the tree file listed in the Commit Object (file).</p><p><img alt="Check contents" loading=lazy src=cat-file-p-2.jpg#center></p><p><strong>The tree file has entries of the files & directories in the snapshot (current state) of the local repository.</strong> The format of each line is the same.</p><p>Tree Object content format</p><ul><li><p><code>100644</code> is the mode of the file. It is an octal number.</p><pre tabindex=0><code>Octal: 10 0 644
Binary: 001000 000 110100100
</code></pre><ul><li>The first six binary bits indicate the object type.<ul><li><code>001000</code> indicates a regular file. (As seen in this case.)</li><li><code>001010</code> indicates a <a href=https://tdongsi.github.io/blog/2016/02/20/symlinks-in-git>symlink (symbolic link)</a>.</li><li><code>001110</code> indicates a <a href="https://www.oreilly.com/library/view/version-control-with/9780596158187/ch15s04.html#:~:text=gitlink">gitlink</a>.</li></ul></li><li>The next three binary bits (<code>000</code>) are unused.</li><li>The last nine binary bits (<code>110100100</code>) indicate <a href=https://harshkapadia2.github.io/cli/terminal.html#changing-permissions>Unix file permissions</a>.<ul><li><code>644</code> and <code>755</code> are valid for regular files.</li><li>Symlinks and gitlinks have the value <code>0</code> in this field.</li></ul></li></ul></li><li><p><code>blob</code> is the object type. (<a href=#creating-directories>It can be a <code>tree</code> object as well.</a> Explained below.)</p></li><li><p><code>1a3851c172420a2198cf8ca6f2b776589d955cc5</code> is the SHA-1 hash of the file.</p></li><li><p>Name of the file.</p></li></ul><p><strong>So, each Commit Object points to a Tree Object and each Tree Object points to a set of blobs and/or trees, which correspond respectively to files and subdirectories.</strong></p><p>The connections between the commit, tree and blob files till now. (<a href=https://blog.harshkapadia.me/2021/the-git-directory/#the-head-file><code>HEAD</code></a> is just a pointer to the latest commit.)</p><p><img alt="Connection graph" loading=lazy src=connection-graph-1.png#center></p><p>NOTE: The blob <code>e69de</code> has been modified to blob <code>1a385</code> and so is not connected to the tree <code>1b219</code>. Only the latest blob of every added file is connected to the new Tree Object when a commit is made.</p><h2 id=parent-commits>Parent Commits<a hidden class=anchor aria-hidden=true href=#parent-commits>#</a></h2><p>Create another file (<code>master_file_2.txt</code>), add it and commit it.</p><p><img alt="Create master file" loading=lazy src=touch-master_file_2.jpg#center></p><p>Check the contents of the commit file (using part of the hash <code>8282663</code> as seen in the above image).</p><p><img alt="Create another master file" loading=lazy src=cat-file-p-3.jpg#center></p><p>A new line <code>parent d5b8f77ce1dc1a37b29885026055c8656c3e0b65</code> is seen. Remember, this is the hash of the previous commit. <strong>Git is thus creating a graph.</strong> A Directed Acyclic Graph to be precise. (Check image below.)</p><p>Also, the <a href=https://blog.harshkapadia.me/2021/the-git-directory/#the-head-file><code>HEAD</code></a> will now automatically point to this (latest - <code>82826</code>) commit rather than the parent (previous - <code>d5b8f</code>) commit as it was doing before. To verify, check where the <code>HEAD</code> is pointing.</p><p><img alt=HEAD loading=lazy src=head-1.jpg#center></p><p>It is pointing to the latest commit (<code>82826</code>).</p><p>Now check the contents of the Tree Object of the latest commit.</p><p><img alt="Contents of tree" loading=lazy src=cat-file-p-4.jpg#center></p><p>From the Commit Object, Tree Object and HEAD position, the connection graph looks as follows</p><p><img alt="Connection graph" loading=lazy src=connection-graph-2.png#center></p><h2 id=creating-directories>Creating Directories<a hidden class=anchor aria-hidden=true href=#creating-directories>#</a></h2><p>Create a new file (<code>master_dir_1_file_3.txt</code>) inside a directory (<code>dir_1</code>), add it, commit it and look at the contents of the commit file.</p><p><img alt="Create new file in directory" loading=lazy src=mkdir_1.jpg#center></p><p>The commit file has the <a href="#the-commit-object:~:text=Commit%20object%20content">same format as before</a>.</p><p>Check the contents of the tree file (with the hash <code>f6a65</code> as seen in the above image).</p><p><img alt="Contents of tree" loading=lazy src=cat-file-p-5.jpg#center></p><p>It is surprising to note that the tree <code>f6a65</code> points to another tree <code>abecf</code>! The name of the new tree is <code>dir_1</code>.</p><p>Check the contents of the <code>dir_1</code> tree.</p><p><img alt="Contents of directory tree" loading=lazy src=cat-file-p-6.jpg#center></p><p>So it points to the file (<code>master_dir_1_file_3.txt</code>) inside the directory <code>dir_1</code>.</p><p>Have a look at how the tree <code>f6a65</code> connected itself to the tree and blobs.</p><p><img alt=Tree loading=lazy src=tree-1.png#center></p><p>The graph of the repository as it stands now</p><p><img alt="Connection Graph" loading=lazy src=connection-graph-3.png#center></p><h2 id=renaming-files>Renaming Files<a hidden class=anchor aria-hidden=true href=#renaming-files>#</a></h2><p>Rename <code>master_file_1.txt</code> to <code>the_master_file.txt</code> to see how Git handles it internally.</p><p><img alt="Rename file" loading=lazy src=mv-1.jpg#center></p><p><img alt=Stage loading=lazy src=add-1.jpg#center></p><p>When the file is committed, Git is smart enough to recognize that a file was renamed and is not a new file, as can be seen in the last line of the above image. It can recognize this because the SHA-1 hash of the file has not changed (as the content of the file has not changed).</p><p>Check the contents of the commit and tree files.</p><p><img alt="Contents of commit" loading=lazy src=cat-file-p-7.jpg#center></p><p>From the last line, the hash <code>1a385</code> is same as the hash of the original file name (<code>master_file_1.txt</code>) and <strong>just the name of the file has been changed in the Tree Object instead of creating a new blob file.</strong> This is efficient space management by Git!</p><p>The structure of the repo.</p><p><img alt="Connection Graph" loading=lazy src=connection-graph-4.png#center></p><h2 id=modifying-large-files>Modifying Large Files<a hidden class=anchor aria-hidden=true href=#modifying-large-files>#</a></h2><p>Add and commit a image to Git. The size of the image is 1.374 Mb (or 1374 kb), so it is a relatively huge file as compared to the other files (~ 1 kb/file).</p><p><img alt=Stage loading=lazy src=add-2.jpg#center></p><p><img alt=Commit loading=lazy src=cat-file-p-8.jpg#center></p><p>Make a small change to the image file contents and then add and commit it again.</p><p><img alt="Stage and commit" loading=lazy src=add-3.jpg#center></p><p>The SHA-1 hashes of <code>master_image_1.png</code> in the latest (<code>6d2d2</code>) and previous (<code>27666</code>) tree are different, so Git has created two different blobs (<code>ca893</code> and <code>1f7af</code>) for the same file, even when they only have a very small difference.</p><p>Run <code>du -c</code> now.</p><p><img alt="Du -c" loading=lazy src=du-c-3.jpg#center></p><p>From the image above, there are two directories (<code>.git/objects/1f</code> and <code>.git/objects/ca</code>) with the same size (1376 kb).</p><p>NOTE: The directory content size (1376 kb) is greater than the image size (1374 kb) as Git adds the file type and size (length) to the blob file and then hashes it.</p><p>So is Git inefficient at handling huge files? No. The content of the file has changed and this produces a different SHA-1 hash (<code>1f7af</code>) than the original SHA-1 hash (<code>ca893</code>), so Git is not able to handle the change like it did when a file was simply renamed. Having multiple copies of such a huge file is not a problem in the local repository, but it will take up a lot of bandwidth while <a href=https://harshkapadia2.github.io/git_basics/#_git_push>pushing</a> and <a href=https://harshkapadia2.github.io/git_basics/#_git_pull>pulling</a> from a platform like <a href=https://harshkapadia2.github.io/git_basics/#_github>GitHub</a>. To avoid this, Git uses <strong>Delta Compression</strong>. It stores the difference (diff) of the older file from the new one and indicates the new one as the parent. This is looked into in the sub-section below.</p><h2 id=the-pack-directory>The <code>pack</code> Directory<a hidden class=anchor aria-hidden=true href=#the-pack-directory>#</a></h2><pre tabindex=0><code>.git
â”œâ”€â”€â”€...
â””â”€â”€â”€objects
    â”œâ”€â”€â”€...
    â””â”€â”€â”€pack
        â”œâ”€â”€â”€&lt;*.idx&gt;
        â””â”€â”€â”€&lt;*.pack&gt;
</code></pre><p><em>Delta compression</em> is carried out when code is pushed/pulled to/from GitHub or when aggressive garbage collection (<code>git gc --aggressive</code>) is carried out.</p><p>Delta compression creates two files in <code>.git/objects/pack</code></p><ul><li>A pack file (.pack)</li><li>An index file (.idx)</li></ul><p>The current state of the repo</p><p><img alt="Du -c" loading=lazy src=du-c-3.jpg#center></p><p>The size of <code>.git/objects/pack</code> in the above image is 0 kb.</p><p>Aggressive garbage collection will be used to carry out Delta Compression and then <code>du -c</code> to view the changes.</p><p><img alt="Du -c" loading=lazy src=du-c-4.jpg#center></p><p>NOTE: The total size of the <code>.git</code> directory went down from 4220kb (seen in the first <code>du -c</code> image in this sub-section) to 2838kb (as seen in the above image). This is a 32.75% reduction in the size of the local repository!</p><p>Notice in the above image that the size of <code>.git/objects/pack</code> is 1380 kb and a lot of the files in <code>.git/objects</code> have disappeared, except for <code>.git/objects/e6</code>.</p><p>The contents of <code>.git/objects/pack</code></p><p><img alt="Content of directory" loading=lazy src=dir-2.jpg#center></p><p>As mentioned above, two files (a pack file <code>.pack</code> and an index file <code>.idx</code>) are created.</p><p>Check the contents of both the files using the plumbing command <code>git verify-pack -v path/to/pack/file/&lt;file_name>.pack</code> (-v = verbose). (Works with the <code>.idx</code> file as well.)</p><p><img alt="Contents of files" loading=lazy src=verify-pack-1.jpg#center></p><p><strong>The pack file is a single file containing the contents of all the objects that were removed from the file system.</strong></p><p>The size of the newly modified image (hash <code>1f7af</code>) is very large. The blob of the original image (hash <code>ca893</code>) is very small in size in comparison and it has the hash of the modified image (<code>1f7af</code>) mentioned after it, indicating that its parent is the newly modified file. <strong>Thus, Git stored the entire new file and only a diff for the older file with a pointer to the newer file rather than storing the entire file twice, making it space efficient.</strong></p><p>The pack file has a graph in it, just like the commit, tree and blob files have one.</p><p>NOTE: The <code>.idx</code> (index) file stores the same content as the <code>.pack</code> file and is a file that <strong>contains offsets into the pack file so you can quickly seek to a specific object</strong>.</p><p>On running the aggressive garbage collection, Git got rid of all the files in <code>.git/objects</code> <strong>that were connected with commits</strong> and added them to the pack file.</p><p>The <code>.git/objects/e6</code> directory did not get removed as it was not related (connected) to any Tree Object.</p><p><a href=https://gist.github.com/matthewmccullough/2695758>An example similar to the one discussed in this sub-section.</a></p><p><a href=https://git-scm.com/book/en/v2/Git-Internals-Packfiles>More on Packfiles.</a></p><p>Finally, take a look at the log of the repository.</p><p><img alt="Log of repository" loading=lazy src=log-1.jpg#center></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.harshkapadia.me/tags/git/>Git</a></li><li><a href=https://blog.harshkapadia.me/tags/internals/>Internals</a></li></ul><nav class=paginav><a class=prev href=https://blog.harshkapadia.me/2022/hackathon-team-attitude/><span class=title>Â« Prev</span><br><span>Managing Team Attitudes While Organising Hackathons</span>
</a><a class=next href=https://blog.harshkapadia.me/2021/the-git-directory/><span class=title>Next Â»</span><br><span>The .git Directory</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Git Objects on x" href="https://x.com/intent/tweet/?text=Git%20Objects&amp;url=https%3a%2f%2fblog.harshkapadia.me%2f2021%2fgit-objects%2f&amp;hashtags=git%2cinternals"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Git Objects on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.harshkapadia.me%2f2021%2fgit-objects%2f&amp;title=Git%20Objects&amp;summary=Git%20Objects&amp;source=https%3a%2f%2fblog.harshkapadia.me%2f2021%2fgit-objects%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Git Objects on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.harshkapadia.me%2f2021%2fgit-objects%2f&title=Git%20Objects"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Git Objects on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.harshkapadia.me%2f2021%2fgit-objects%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Git Objects on whatsapp" href="https://api.whatsapp.com/send?text=Git%20Objects%20-%20https%3a%2f%2fblog.harshkapadia.me%2f2021%2fgit-objects%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Git Objects on telegram" href="https://telegram.me/share/url?text=Git%20Objects&amp;url=https%3a%2f%2fblog.harshkapadia.me%2f2021%2fgit-objects%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Git Objects on ycombinator" href="https://news.ycombinator.com/submitlink?t=Git%20Objects&u=https%3a%2f%2fblog.harshkapadia.me%2f2021%2fgit-objects%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>Â© 2025 <a href=https://harshkapadia.me>Harsh Kapadia</a> |</span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>