<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>The .git Directory | Harsh Kapadia's Blog</title><meta name=keywords content="git,internals"><meta name=description content="The usecase of common files and directories in the '.git' directory of a Git repository."><meta name=author content="Harsh Kapadia"><link rel=canonical href=https://blog.harshkapadia.me/2021/the-git-directory/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.harshkapadia.me/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.harshkapadia.me/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.harshkapadia.me/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.harshkapadia.me/apple-touch-icon.png><link rel=mask-icon href=https://blog.harshkapadia.me/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.105.0"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="The .git Directory"><meta property="og:description" content="The usecase of common files and directories in the '.git' directory of a Git repository."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.harshkapadia.me/2021/the-git-directory/"><meta property="og:image" content="https://blog.harshkapadia.me/2021/the-git-directory/git-directory.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-10-11T20:37:21+05:30"><meta property="article:modified_time" content="2021-10-11T20:37:21+05:30"><meta property="og:site_name" content="Harsh Kapadia's Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.harshkapadia.me/2021/the-git-directory/git-directory.png"><meta name=twitter:title content="The .git Directory"><meta name=twitter:description content="The usecase of common files and directories in the '.git' directory of a Git repository."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://blog.harshkapadia.me/posts/"},{"@type":"ListItem","position":3,"name":"The .git Directory","item":"https://blog.harshkapadia.me/2021/the-git-directory/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"The .git Directory","name":"The .git Directory","description":"The usecase of common files and directories in the '.git' directory of a Git repository.","keywords":["git","internals"],"articleBody":"Git Internals This post is the first part of a series on the internal working of Git.\nThe Git Internals series\nThe .git Directory (This post) Git Objects The entire Git Internals series is available as a talk as well. Feel free to watch the talk instead. ðŸ‘‡\nThe .git Directory On executing the git init command in a directory, Git creates a hidden .git directory in that directory. The .git directory contains all the project history data on which Git can perform its version control functions. It also contains files to configure the way Git handles things for that particular repository.\nThe .git Directory Contents .git â”œâ”€â”€â”€addp-hunk-edit.diff â”œâ”€â”€â”€COMMIT_EDITMSG â”œâ”€â”€â”€config â”œâ”€â”€â”€description â”œâ”€â”€â”€FETCH_HEAD â”œâ”€â”€â”€HEAD â”œâ”€â”€â”€hooks â”‚ â””â”€â”€â”€\u003c*.sample\u003e â”œâ”€â”€â”€index â”œâ”€â”€â”€info â”‚ â””â”€â”€â”€exclude â”œâ”€â”€â”€lfs â”‚ â”œâ”€â”€â”€cache â”‚ â”‚ â””â”€â”€â”€locks â”‚ â”‚ â””â”€â”€â”€refs â”‚ â”‚ â””â”€â”€â”€heads â”‚ â”‚ â””â”€â”€â”€ â”‚ â”‚ â””â”€â”€â”€verifiable â”‚ â”œâ”€â”€â”€objects â”‚ â”‚ â””â”€â”€â”€ â”‚ â”‚ â””â”€â”€â”€ â”‚ â”‚ â””â”€â”€â”€ â”‚ â””â”€â”€â”€tmp â”œâ”€â”€â”€logs â”‚ â”œâ”€â”€â”€HEAD â”‚ â””â”€â”€â”€refs â”‚ â”œâ”€â”€â”€heads â”‚ â”‚ â””â”€â”€â”€ â”‚ â”œâ”€â”€â”€remotes â”‚ â”‚ â””â”€â”€â”€ â”‚ â”‚ â””â”€â”€â”€ â”‚ â””â”€â”€â”€stash â”œâ”€â”€â”€MERGE_HEAD â”œâ”€â”€â”€MERGE_MODE â”œâ”€â”€â”€MERGE_MSG â”œâ”€â”€â”€objects â”‚ â”œâ”€â”€â”€ â”‚ â”‚ â””â”€â”€â”€ â”‚ â”œâ”€â”€â”€info â”‚ â””â”€â”€â”€pack â”‚ â”œâ”€â”€â”€\u003c*.idx\u003e â”‚ â””â”€â”€â”€\u003c*.pack\u003e â”œâ”€â”€â”€ORIG_HEAD â”œâ”€â”€â”€packed-refs â”œâ”€â”€â”€rebase-merge â”‚ â”œâ”€â”€â”€git-rebase-todo â”‚ â”œâ”€â”€â”€git-rebase-todo.backup â”‚ â”œâ”€â”€â”€head-name â”‚ â”œâ”€â”€â”€interactive â”‚ â”œâ”€â”€â”€no-reschedule-failed-exec â”‚ â”œâ”€â”€â”€onto â”‚ â””â”€â”€â”€orig-head â””â”€â”€â”€refs â”œâ”€â”€â”€heads â”‚ â””â”€â”€â”€ â”œâ”€â”€â”€remotes â”‚ â””â”€â”€â”€ â”‚ â””â”€â”€â”€ â”œâ”€â”€â”€stash â””â”€â”€â”€tags â””â”€â”€â”€ The index File This file contains the details of staged (added) files and is the staging area of the repository. NOTE: The words â€˜indexâ€™, â€˜stageâ€™ and â€˜cacheâ€™ are the same in Git and are used interchangeably.\nIt is created when files are added for the first time and is updated every time the git add command is executed. It is a binary file and just printing contents using cat .git/index will result in gibberish. Its contents can be accessed using the git ls-files --stage [plumbing command]. From the image above\n100644 is the mode of the file. It is an octal number.\nOctal: 10 0 644 Binary: 001000 000 110100100 The first six binary bits indicate the object type. 001000 indicates a regular file. (As seen in this case.) 001010 indicates a symlink (symbolic link). 001110 indicates a gitlink. The next three binary bits (000) are unused. The last nine binary bits (110100100) indicate Unix file permissions. 644 and 755 are valid for regular files. Symlinks and gitlinks have the value 0 in this field. The next 40 character hexadecimal string is the SHA-1 hash of the file.\nThe next number is a stage number/slot, which is useful during merge conflict handling.\n0 indicates a normal un-conflicted file. 1 indicates the base, i.e., the original version of the file. 2 indicates the â€˜oursâ€™ version, i.e., the HEAD version with both changes. 3 indicates the â€™theirsâ€™ version, i.e., the file with the incoming changes. The last string is the name of the file being referred to.\nMore on the index file contents.\nMore on the index file usage.\nThe HEAD File It is used to refer to the latest commit in the current branch.\nUsually it does not contain a commit SHA-1, but contains the path to a file (of the name of the current branch) in the refs directory which stores the last commitâ€™s SHA-1 hash in that branch.\nIt contains a commitâ€™s SHA-1 hash when a specific commit or tag is checked out. (Detached HEAD state.)\nMore on the HEAD file.\nEg:\n# in the 'main' branch $ cat .git/HEAD ref: refs/heads/main $ git switch test_branch Switched to branch 'test_branch' $ cat .git/HEAD ref: refs/heads/test_branch The refs Directory .git â”œâ”€â”€â”€... â””â”€â”€â”€refs â”œâ”€â”€â”€heads â”‚ â””â”€â”€â”€ â”œâ”€â”€â”€remotes â”‚ â””â”€â”€â”€ â”‚ â””â”€â”€â”€ â”œâ”€â”€â”€stash â””â”€â”€â”€tags â””â”€â”€â”€ This directory holds the reference to the latest commit in every local branch and fetched remote branch in the form of the SHA-1 hash of the commit. It also stores the SHA-1 hash of the commit which has been [tagged]. The HEAD file references a file (of the name of the branch that is currently checked out) from the heads directory in this (refs) directory. The packed-refs File One file is created per branch and tag in the refs directory. In a repository with a lot of branches and tags, there is a huge number of refs and a lot of the refs and tags are not actively used/changed. These refs occupy a lot of storage space and cause performance issues. The git pack-refs command is used to solve this problem. It stores all the refs in a single file called packed-refs. If a ref is missing from the usual refs directory after packing, it is looked up in this file and used if found. Subsequent updates to a packed branch ref creates a new file in the refs directory as usual. The logs Directory .git â”œâ”€â”€â”€... â””â”€â”€â”€logs â”œâ”€â”€â”€HEAD â””â”€â”€â”€refs â”œâ”€â”€â”€heads â”‚ â””â”€â”€â”€ â”œâ”€â”€â”€remotes â”‚ â””â”€â”€â”€ â”‚ â””â”€â”€â”€ â””â”€â”€â”€stash Contains the history of all commits in order. Every row consists of the parent commitâ€™s SHA-1 hash, the current commitâ€™s SHA-1 hash, the committerâ€™s name and e-mail, the Unix Epoch Time of the commit, the time zone, the type of action and message in order. There are logs for every branch in the local Git repository and for the fetched branches from the remote Git repository/repositories (if any). Inside the logs directory The HEAD file stores information about all the commands executed by the user, such as branch switches, commits, rebases, etc. The files in the refs directory only include branch specific operations and history, such as commits, pulls, resets, rebases, etc. The FETCH_HEAD file It contains the latest commits of the fetched remote branch(es).\nIt corresponds to the branch which was\nChecked out when last fetched.\nFrom the image above, only one branch is displayed without the not-for-merge text. The odd one out (the â€˜mainâ€™ branch in this case) is the branch which was checked out while fetching. Explicitly mentioned using the git fetch command.\nThe COMMIT_EDITMSG File The commit message is written in this file. This file is opened in an editor on executing the git commit command. It contains the output of the git status command commented out using the # character. If there has been a commit before, then this file will show the last commit message along with the git status output just before that commit. The objects Directory .git â”œâ”€â”€â”€... â””â”€â”€â”€objects â”œâ”€â”€â”€ â”‚ â””â”€â”€â”€ â”œâ”€â”€â”€info â””â”€â”€â”€pack â”œâ”€â”€â”€\u003c*.idx\u003e â””â”€â”€â”€\u003c*.pack\u003e The most important directory in the .git directory. It houses the data (SHA-1 hashes) of all the Blob, Commit and Tree Objects in the repository. To decrease access time, objects are placed in buckets (directories), with the first two characters of their SHA-1 hash as the name of the bucket. The remaining 38 characters are used to name the objectâ€™s file. More on the pack directory. The info Directory .git â”œâ”€â”€â”€... â””â”€â”€â”€info â””â”€â”€â”€exclude It contains the exclude file which behaves like the .gitignore file, but is used to ignore files locally without modifying .gitignore. More on the exclude file. The config File This file contains the local Git repository configuration. It can be modified using the git config --local command. The addp-hunk-edit.diff File Created when the e (edit) option is chosen in the git add --patch command. Enables the manual edit of a hunk of a file to be staged. The ORIG_HEAD File It contains the SHA-1 hash of a commit. It is the previous state of the HEAD, but not necessarily the immediate previous state. It is set by certain commands which have destructive/dangerous behaviour, so it usually points to the latest commit with a destructive change. It is less useful now because of the [git reflog command] which makes reverting/resetting to a particular commit easier. The description File This is the description of the repository. This file is used by GitWeb, which hardly anyone uses today, so can be left alone. ","wordCount":"1298","inLanguage":"en","image":"https://blog.harshkapadia.me/2021/the-git-directory/git-directory.png","datePublished":"2021-10-11T20:37:21+05:30","dateModified":"2021-10-11T20:37:21+05:30","author":[{"@type":"Person","name":"Harsh Kapadia"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.harshkapadia.me/2021/the-git-directory/"},"publisher":{"@type":"Organization","name":"Harsh Kapadia's Blog","logo":{"@type":"ImageObject","url":"https://blog.harshkapadia.me/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.harshkapadia.me accesskey=h title="Harsh Kapadia's Blog (Alt + H)">Harsh Kapadia's Blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://blog.harshkapadia.me/tags title=Tags><span>Tags</span></a></li><li><a href=https://harshkapadia.me title=harshkapadia.me><span>harshkapadia.me</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.harshkapadia.me>Home</a>&nbsp;Â»&nbsp;<a href=https://blog.harshkapadia.me/posts/>Posts</a></div><h1 class=post-title>The .git Directory</h1><div class=post-description>The usecase of common files and directories in the '.git' directory of a Git repository.</div><div class=post-meta><span title='2021-10-11 20:37:21 +0530 +0530'>October 11, 2021</span>&nbsp;Â·&nbsp;7 min&nbsp;Â·&nbsp;Harsh Kapadia&nbsp;|&nbsp;<a href=https://github.com/HarshKapadia2/blog/tree/main/content/posts/the-git-directory.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=lazy src=https://blog.harshkapadia.me/2021/the-git-directory/git-directory.png alt="The .git Directory"><p>Some of the contents of the <code>.git</code> directory that Git uses to manage different versions of code.</p></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#git-internals aria-label="Git Internals">Git Internals</a></li><li><a href=#the-git-directory aria-label="The .git Directory">The <code>.git</code> Directory</a></li><li><a href=#the-git-directory-contents aria-label="The .git Directory Contents">The <code>.git</code> Directory Contents</a></li><li><a href=#the-index-file aria-label="The index File">The <code>index</code> File</a></li><li><a href=#the-head-file aria-label="The HEAD File">The <code>HEAD</code> File</a></li><li><a href=#the-refs-directory aria-label="The refs Directory">The <code>refs</code> Directory</a></li><li><a href=#the-packed-refs-file aria-label="The packed-refs File">The <code>packed-refs</code> File</a></li><li><a href=#the-logs-directory aria-label="The logs Directory">The <code>logs</code> Directory</a></li><li><a href=#the-fetch_head-file aria-label="The FETCH_HEAD file">The <code>FETCH_HEAD</code> file</a></li><li><a href=#the-commit_editmsg-file aria-label="The COMMIT_EDITMSG File">The <code>COMMIT_EDITMSG</code> File</a></li><li><a href=#the-objects-directory aria-label="The objects Directory">The <code>objects</code> Directory</a></li><li><a href=#the-info-directory aria-label="The info Directory">The <code>info</code> Directory</a></li><li><a href=#the-config-file aria-label="The config File">The <code>config</code> File</a></li><li><a href=#the-addp-hunk-editdiff-file aria-label="The addp-hunk-edit.diff File">The <code>addp-hunk-edit.diff</code> File</a></li><li><a href=#the-orig_head-file aria-label="The ORIG_HEAD File">The <code>ORIG_HEAD</code> File</a></li><li><a href=#the-description-file aria-label="The description File">The <code>description</code> File</a></li></ul></div></details></div><div class=post-content><h2 id=git-internals>Git Internals<a hidden class=anchor aria-hidden=true href=#git-internals>#</a></h2><p>This post is the first part of a series on the internal working of Git.</p><p>The Git Internals series</p><ul><li>The <code>.git</code> Directory (This post)</li><li><a href=https://blog.harshkapadia.me/2021/git-objects>Git Objects</a></li></ul><p>The entire Git Internals series is available as a talk as well. Feel free to watch the talk instead. ðŸ‘‡</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/TZRS9llBBYU style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h2 id=the-git-directory>The <code>.git</code> Directory<a hidden class=anchor aria-hidden=true href=#the-git-directory>#</a></h2><p>On executing the <a href=https://harshkapadia2.github.io/git_basics/#_git_init><code>git init</code> command</a> in a directory, Git creates a hidden <code>.git</code> directory in that directory. The <code>.git</code> directory contains all the project history data on which Git can perform its version control functions. It also contains files to configure the way Git handles things for that particular <a href=https://harshkapadia2.github.io/git_basics/#_repository>repository</a>.</p><h2 id=the-git-directory-contents>The <code>.git</code> Directory Contents<a hidden class=anchor aria-hidden=true href=#the-git-directory-contents>#</a></h2><pre tabindex=0><code>.git
â”œâ”€â”€â”€addp-hunk-edit.diff
â”œâ”€â”€â”€COMMIT_EDITMSG
â”œâ”€â”€â”€config
â”œâ”€â”€â”€description
â”œâ”€â”€â”€FETCH_HEAD
â”œâ”€â”€â”€HEAD
â”œâ”€â”€â”€hooks
â”‚   â””â”€â”€â”€&lt;*.sample&gt;
â”œâ”€â”€â”€index
â”œâ”€â”€â”€info
â”‚   â””â”€â”€â”€exclude
â”œâ”€â”€â”€lfs
â”‚   â”œâ”€â”€â”€cache
â”‚   â”‚   â””â”€â”€â”€locks
â”‚   â”‚       â””â”€â”€â”€refs
â”‚   â”‚           â””â”€â”€â”€heads
â”‚   â”‚               â””â”€â”€â”€&lt;branch_names&gt;
â”‚   â”‚                   â””â”€â”€â”€verifiable
â”‚   â”œâ”€â”€â”€objects
â”‚   â”‚   â””â”€â”€â”€&lt;first_2_SHA-256_characters&gt;
â”‚   â”‚       â””â”€â”€â”€&lt;next_2_SHA-256_characters&gt;
â”‚   â”‚           â””â”€â”€â”€&lt;entire_64_character_SHA-256_hash&gt;
â”‚   â””â”€â”€â”€tmp
â”œâ”€â”€â”€logs
â”‚   â”œâ”€â”€â”€HEAD
â”‚   â””â”€â”€â”€refs
â”‚       â”œâ”€â”€â”€heads
â”‚       â”‚   â””â”€â”€â”€&lt;branch_names&gt;
â”‚       â”œâ”€â”€â”€remotes
â”‚       â”‚   â””â”€â”€â”€&lt;remote_aliases&gt;
â”‚       â”‚       â””â”€â”€â”€&lt;branch_names&gt;
â”‚       â””â”€â”€â”€stash
â”œâ”€â”€â”€MERGE_HEAD
â”œâ”€â”€â”€MERGE_MODE
â”œâ”€â”€â”€MERGE_MSG
â”œâ”€â”€â”€objects
â”‚   â”œâ”€â”€â”€&lt;first_2_SHA-1_characters&gt;
â”‚   â”‚   â””â”€â”€â”€&lt;remaining_38_SHA-1_characters&gt;
â”‚   â”œâ”€â”€â”€info
â”‚   â””â”€â”€â”€pack
â”‚       â”œâ”€â”€â”€&lt;*.idx&gt;
â”‚       â””â”€â”€â”€&lt;*.pack&gt;
â”œâ”€â”€â”€ORIG_HEAD
â”œâ”€â”€â”€packed-refs
â”œâ”€â”€â”€rebase-merge
â”‚   â”œâ”€â”€â”€git-rebase-todo
â”‚   â”œâ”€â”€â”€git-rebase-todo.backup
â”‚   â”œâ”€â”€â”€head-name
â”‚   â”œâ”€â”€â”€interactive
â”‚   â”œâ”€â”€â”€no-reschedule-failed-exec
â”‚   â”œâ”€â”€â”€onto
â”‚   â””â”€â”€â”€orig-head
â””â”€â”€â”€refs
    â”œâ”€â”€â”€heads
    â”‚   â””â”€â”€â”€&lt;branch_names&gt;
    â”œâ”€â”€â”€remotes
    â”‚   â””â”€â”€â”€&lt;remote_aliases&gt;
    â”‚       â””â”€â”€â”€&lt;branch_names&gt;
    â”œâ”€â”€â”€stash
    â””â”€â”€â”€tags
        â””â”€â”€â”€&lt;tag_names&gt;
</code></pre><h2 id=the-index-file>The <code>index</code> File<a hidden class=anchor aria-hidden=true href=#the-index-file>#</a></h2><ul><li>This file contains the details of <a href=https://harshkapadia2.github.io/git_basics/#_added_files>staged (added) files</a> and is the staging area of the repository.</li></ul><p>NOTE: The words &lsquo;index&rsquo;, &lsquo;stage&rsquo; and &lsquo;cache&rsquo; are the same in Git and are used interchangeably.</p><ul><li>It is created when files are added for the first time and is updated every time the <a href=https://harshkapadia2.github.io/git_basics/#_git_add><code>git add</code> command</a> is executed.</li></ul><p><img loading=lazy src=index-explained.png#center alt="Index file explained"></p><ul><li>It is a binary file and just printing contents using <code>cat .git/index</code> will result in gibberish. Its contents can be accessed using the <code>git ls-files --stage</code> [plumbing command].</li></ul><p><img loading=lazy src=git-ls-files.png#center alt="&amp;lsquo;git ls-files &amp;ndash;stage&amp;rsquo; command"></p><ul><li><p>From the image above</p><ul><li><p><code>100644</code> is the mode of the file. It is an octal number.</p><pre tabindex=0><code>Octal: 10 0 644
Binary: 001000 000 110100100
</code></pre><ul><li>The first six binary bits indicate the object type.<ul><li><code>001000</code> indicates a regular file. (As seen in this case.)</li><li><code>001010</code> indicates a <a href=https://tdongsi.github.io/blog/2016/02/20/symlinks-in-git>symlink (symbolic link)</a>.</li><li><code>001110</code> indicates a <a href="https://www.oreilly.com/library/view/version-control-with/9780596158187/ch15s04.html#:~:text=gitlink">gitlink</a>.</li></ul></li><li>The next three binary bits (<code>000</code>) are unused.</li><li>The last nine binary bits (<code>110100100</code>) indicate <a href=https://harshkapadia2.github.io/cli/terminal.html#changing-permissions>Unix file permissions</a>.<ul><li><code>644</code> and <code>755</code> are valid for regular files.</li><li>Symlinks and gitlinks have the value <code>0</code> in this field.</li></ul></li></ul></li><li><p>The next 40 character hexadecimal string is the <a href=https://harshkapadia2.github.io/git_basics/#_sha1>SHA-1 hash</a> of the file.</p></li><li><p>The next number is a stage number/slot, which is useful during merge conflict handling.</p><ul><li><code>0</code> indicates a normal un-conflicted file.</li><li><code>1</code> indicates the base, i.e., the original version of the file.</li><li><code>2</code> indicates the &lsquo;ours&rsquo; version, i.e., the HEAD version with both changes.</li><li><code>3</code> indicates the &rsquo;theirs&rsquo; version, i.e., the file with the incoming changes.</li></ul></li><li><p>The last string is the name of the file being referred to.</p></li></ul></li><li><p><a href=https://mincong.io/2018/04/28/git-index>More on the <code>index</code> file contents.</a></p></li><li><p><a href=https://jwiegley.github.io/git-from-the-bottom-up/2-The-Index/1-meet-the-middle-man.html>More on the <code>index</code> file usage.</a></p></li></ul><h2 id=the-head-file>The <code>HEAD</code> File<a hidden class=anchor aria-hidden=true href=#the-head-file>#</a></h2><ul><li><p>It is used to refer to the latest commit in the current branch.</p></li><li><p>Usually it does not contain a commit <a href=https://harshkapadia2.github.io/git_basics/#_sha1>SHA-1</a>, but contains the path to a file (of the name of the current branch) in the <a href=#the-refs-directory><code>refs</code> directory</a> which stores the last commit&rsquo;s SHA-1 hash in that branch.</p></li><li><p>It contains a commit&rsquo;s SHA-1 hash when <a href=https://harshkapadia2.github.io/git_basics/#_commits_sha>a specific commit or tag is checked out</a>. (<a href=https://harshkapadia2.github.io/git_basics/#_detached_head>Detached <code>HEAD</code></a> state.)</p></li><li><p><a href=https://harshkapadia2.github.io/git_basics/#_head>More on the <code>HEAD</code> file.</a></p></li><li><p>Eg:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># in the &#39;main&#39; branch</span>
</span></span><span style=display:flex><span>$ cat .git/HEAD
</span></span><span style=display:flex><span>ref: refs/heads/main
</span></span><span style=display:flex><span>$ git switch test_branch
</span></span><span style=display:flex><span>Switched to branch <span style=color:#e6db74>&#39;test_branch&#39;</span>
</span></span><span style=display:flex><span>$ cat .git/HEAD
</span></span><span style=display:flex><span>ref: refs/heads/test_branch
</span></span></code></pre></div></li></ul><h2 id=the-refs-directory>The <code>refs</code> Directory<a hidden class=anchor aria-hidden=true href=#the-refs-directory>#</a></h2><pre tabindex=0><code>.git
â”œâ”€â”€â”€...
â””â”€â”€â”€refs
    â”œâ”€â”€â”€heads
    â”‚   â””â”€â”€â”€&lt;branch_name(s)&gt;
    â”œâ”€â”€â”€remotes
    â”‚   â””â”€â”€â”€&lt;remote_alias(es)&gt;
    â”‚       â””â”€â”€â”€&lt;branch_name(s)&gt;
    â”œâ”€â”€â”€stash
    â””â”€â”€â”€tags
        â””â”€â”€â”€&lt;tag_name(s)&gt;
</code></pre><ul><li>This directory holds the reference to the latest commit in every local branch and fetched remote branch in the form of the SHA-1 hash of the commit.</li><li>It also stores the SHA-1 hash of the commit which has been [tagged].</li><li>The <a href=#the-head-file><code>HEAD</code> file</a> references a file (of the name of <a href=https://harshkapadia2.github.io/git_basics/#_new_branch_name>the branch that is currently checked out</a>) from the <code>heads</code> directory in this (<code>refs</code>) directory.</li></ul><h2 id=the-packed-refs-file>The <code>packed-refs</code> File<a hidden class=anchor aria-hidden=true href=#the-packed-refs-file>#</a></h2><ul><li>One file is created per branch and tag in the <a href=#the-refs-directory><code>refs</code> directory</a>.</li><li>In a repository with a lot of branches and tags, there is a huge number of refs and a lot of the refs and tags are not actively used/changed.</li><li>These refs occupy a lot of storage space and cause performance issues.</li><li>The <code>git pack-refs</code> command is used to solve this problem. It stores all the refs in a single file called <code>packed-refs</code>.</li></ul><p><img loading=lazy src=cat-packed-refs.png#center alt="Print the packed-ref file"></p><ul><li>If a ref is missing from the usual <code>refs</code> directory after packing, it is looked up in this file and used if found.</li><li>Subsequent updates to a packed branch ref creates a new file in the <code>refs</code> directory as usual.</li></ul><h2 id=the-logs-directory>The <code>logs</code> Directory<a hidden class=anchor aria-hidden=true href=#the-logs-directory>#</a></h2><pre tabindex=0><code>.git
â”œâ”€â”€â”€...
â””â”€â”€â”€logs
    â”œâ”€â”€â”€HEAD
    â””â”€â”€â”€refs
        â”œâ”€â”€â”€heads
        â”‚   â””â”€â”€â”€&lt;branch_name(s)&gt;
        â”œâ”€â”€â”€remotes
        â”‚   â””â”€â”€â”€&lt;remote_alias(es)&gt;
        â”‚       â””â”€â”€â”€&lt;branch_name(s)&gt;
        â””â”€â”€â”€stash
</code></pre><ul><li>Contains the history of all commits in order.</li></ul><p><img loading=lazy src=cat-logs.png#center alt="Print a branch&amp;rsquo;s log file"></p><ul><li>Every row consists of the parent commit&rsquo;s SHA-1 hash, the current commit&rsquo;s SHA-1 hash, the committer&rsquo;s name and e-mail, the <a href="https://www.epochconverter.com/#:~:text=What%20is%20epoch%20time">Unix Epoch Time</a> of the commit, the time zone, the type of action and message in order.</li><li>There are logs for every branch in the local Git repository and for the fetched branches from the remote Git repository/repositories (if any).</li><li>Inside the <code>logs</code> directory<ul><li>The <code>HEAD</code> file stores information about all the commands executed by the user, such as branch switches, commits, rebases, etc.</li><li>The files in the refs directory only include branch specific operations and history, such as commits, pulls, resets, rebases, etc.</li></ul></li></ul><h2 id=the-fetch_head-file>The <code>FETCH_HEAD</code> file<a hidden class=anchor aria-hidden=true href=#the-fetch_head-file>#</a></h2><ul><li><p>It contains the latest commits of the fetched remote branch(es).</p></li><li><p>It corresponds to the branch which was</p><ul><li><p><a href=https://harshkapadia2.github.io/git_basics/#_new_branch_name>Checked out</a> when last fetched.</p><p><img loading=lazy src=cat-FETCH_HEAD-1.png#center alt="The contents of the FETCH_HEAD file"></p><ul><li>From the image above, only one branch is displayed without the <code>not-for-merge</code> text. The odd one out (the &lsquo;main&rsquo; branch in this case) is the branch which was checked out while fetching.</li></ul></li><li><p>Explicitly mentioned using the <a href=https://harshkapadia2.github.io/git_basics/#_git_fetch><code>git fetch &lt;remote_repo_alias> &lt;branch_name></code> command</a>.</p><p><img loading=lazy src=cat-FETCH_HEAD-2.png#center alt="The contents of the FETCH_HEAD file"></p></li></ul></li></ul><h2 id=the-commit_editmsg-file>The <code>COMMIT_EDITMSG</code> File<a hidden class=anchor aria-hidden=true href=#the-commit_editmsg-file>#</a></h2><ul><li>The commit message is written in this file.</li><li>This file is opened in an editor on executing the <a href=https://harshkapadia2.github.io/git_basics/#_git_commit><code>git commit</code> command</a>.</li><li>It contains the output of the <a href=https://harshkapadia2.github.io/git_basics/#_git_status><code>git status</code> command</a> commented out using the <code>#</code> character.</li><li>If there has been a commit before, then this file will show the last commit message along with the <code>git status</code> output just before that commit.</li></ul><h2 id=the-objects-directory>The <code>objects</code> Directory<a hidden class=anchor aria-hidden=true href=#the-objects-directory>#</a></h2><pre tabindex=0><code>.git
â”œâ”€â”€â”€...
â””â”€â”€â”€objects
    â”œâ”€â”€â”€&lt;first_2_SHA-1_characters&gt;
    â”‚   â””â”€â”€â”€&lt;remaining_38_SHA-1_characters&gt;
    â”œâ”€â”€â”€info
    â””â”€â”€â”€pack
        â”œâ”€â”€â”€&lt;*.idx&gt;
        â””â”€â”€â”€&lt;*.pack&gt;
</code></pre><ul><li>The most important directory in the <code>.git</code> directory.</li><li>It houses the data (SHA-1 hashes) of all the <a href=https://blog.harshkapadia.me/2021/git-objects>Blob, Commit and Tree Objects</a> in the repository.</li><li>To decrease access time, objects are placed in buckets (directories), with the first two characters of their SHA-1 hash as the name of the bucket. The remaining 38 characters are used to name the object&rsquo;s file.</li><li><a href=https://blog.harshkapadia.me/2021/git-objects/#the-pack-directory>More on the <code>pack</code> directory.</a></li></ul><h2 id=the-info-directory>The <code>info</code> Directory<a hidden class=anchor aria-hidden=true href=#the-info-directory>#</a></h2><pre tabindex=0><code>.git
â”œâ”€â”€â”€...
â””â”€â”€â”€info
    â””â”€â”€â”€exclude
</code></pre><ul><li>It contains the <code>exclude</code> file which behaves like the <a href=https://harshkapadia2.github.io/git_basics/#_gitignore_file><code>.gitignore</code> file</a>, but is used to ignore files locally without modifying <code>.gitignore</code>.</li><li><a href=https://harshkapadia2.github.io/git_basics/#_ignore_files_locally_without_modifying_gitignore>More on the <code>exclude</code> file.</a></li></ul><h2 id=the-config-file>The <code>config</code> File<a hidden class=anchor aria-hidden=true href=#the-config-file>#</a></h2><ul><li>This file contains the local Git repository configuration.</li><li>It can be modified using the <a href=https://harshkapadia2.github.io/git_basics/#_git_config><code>git config --local</code> command</a>.</li></ul><h2 id=the-addp-hunk-editdiff-file>The <code>addp-hunk-edit.diff</code> File<a hidden class=anchor aria-hidden=true href=#the-addp-hunk-editdiff-file>#</a></h2><ul><li>Created when the <code>e</code> (edit) option is chosen in the <a href=https://harshkapadia2.github.io/git_basics/#_p_or_patch><code>git add --patch</code> command</a>.</li><li>Enables the manual edit of a hunk of a file to be staged.</li></ul><h2 id=the-orig_head-file>The <code>ORIG_HEAD</code> File<a hidden class=anchor aria-hidden=true href=#the-orig_head-file>#</a></h2><ul><li>It contains the SHA-1 hash of a commit.</li><li>It is the previous state of the HEAD, but not necessarily the immediate previous state.</li><li>It is set by certain commands which have destructive/dangerous behaviour, so it usually points to the latest commit with a destructive change.</li><li>It is less useful now because of the [<code>git reflog</code> command] which makes reverting/resetting to a particular commit easier.</li></ul><h2 id=the-description-file>The <code>description</code> File<a hidden class=anchor aria-hidden=true href=#the-description-file>#</a></h2><ul><li>This is the description of the repository.</li><li>This file is used by <a href=https://git-scm.com/book/en/v2/Git-on-the-Server-GitWeb>GitWeb</a>, which hardly anyone uses today, so can be left alone.</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.harshkapadia.me/tags/git/>git</a></li><li><a href=https://blog.harshkapadia.me/tags/internals/>internals</a></li></ul><nav class=paginav><a class=prev href=https://blog.harshkapadia.me/2021/git-objects/><span class=title>Â« Prev Page</span><br><span>Git Objects</span></a>
<a class=next href=https://blog.harshkapadia.me/2021/dns-records/><span class=title>Next Page Â»</span><br><span>DNS Records</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share The .git Directory on twitter" href="https://twitter.com/intent/tweet/?text=The%20.git%20Directory&url=https%3a%2f%2fblog.harshkapadia.me%2f2021%2fthe-git-directory%2f&hashtags=git%2cinternals"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share The .git Directory on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fblog.harshkapadia.me%2f2021%2fthe-git-directory%2f&title=The%20.git%20Directory&summary=The%20.git%20Directory&source=https%3a%2f%2fblog.harshkapadia.me%2f2021%2fthe-git-directory%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share The .git Directory on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.harshkapadia.me%2f2021%2fthe-git-directory%2f&title=The%20.git%20Directory"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share The .git Directory on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.harshkapadia.me%2f2021%2fthe-git-directory%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share The .git Directory on whatsapp" href="https://api.whatsapp.com/send?text=The%20.git%20Directory%20-%20https%3a%2f%2fblog.harshkapadia.me%2f2021%2fthe-git-directory%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share The .git Directory on telegram" href="https://telegram.me/share/url?text=The%20.git%20Directory&url=https%3a%2f%2fblog.harshkapadia.me%2f2021%2fthe-git-directory%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>Â© 2021 <a href=https://harshkapadia.me>Harsh Kapadia</a> |</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>